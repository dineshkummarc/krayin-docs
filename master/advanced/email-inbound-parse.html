<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Krayin CRM Developer Portal</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    <meta name="title" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.1ed5ee10.css" as="style"><link rel="preload" href="/assets/js/app.731588d9.js" as="script"><link rel="preload" href="/assets/js/2.35eb6150.js" as="script"><link rel="preload" href="/assets/js/1.48c29e44.js" as="script"><link rel="preload" href="/assets/js/99.bf69eb9b.js" as="script"><link rel="prefetch" href="/assets/js/10.b9295699.js"><link rel="prefetch" href="/assets/js/100.c6f3e8bf.js"><link rel="prefetch" href="/assets/js/101.d0559399.js"><link rel="prefetch" href="/assets/js/102.d31134da.js"><link rel="prefetch" href="/assets/js/103.6638d77e.js"><link rel="prefetch" href="/assets/js/104.eca9df25.js"><link rel="prefetch" href="/assets/js/105.ee29c209.js"><link rel="prefetch" href="/assets/js/106.1ea44edd.js"><link rel="prefetch" href="/assets/js/107.ed791c45.js"><link rel="prefetch" href="/assets/js/108.24bb383f.js"><link rel="prefetch" href="/assets/js/109.a39984c2.js"><link rel="prefetch" href="/assets/js/11.920fa691.js"><link rel="prefetch" href="/assets/js/110.8a78f5ff.js"><link rel="prefetch" href="/assets/js/111.9b2231c6.js"><link rel="prefetch" href="/assets/js/112.18ccd520.js"><link rel="prefetch" href="/assets/js/113.f629fb28.js"><link rel="prefetch" href="/assets/js/114.82e4c859.js"><link rel="prefetch" href="/assets/js/115.00ce7e59.js"><link rel="prefetch" href="/assets/js/116.cb8916a5.js"><link rel="prefetch" href="/assets/js/117.7a0c711e.js"><link rel="prefetch" href="/assets/js/118.a06f63b5.js"><link rel="prefetch" href="/assets/js/119.1ae338a6.js"><link rel="prefetch" href="/assets/js/12.cfe5c744.js"><link rel="prefetch" href="/assets/js/120.c987b7d0.js"><link rel="prefetch" href="/assets/js/121.0d25b7b7.js"><link rel="prefetch" href="/assets/js/122.041b8196.js"><link rel="prefetch" href="/assets/js/123.f5021ccc.js"><link rel="prefetch" href="/assets/js/124.ff3d990d.js"><link rel="prefetch" href="/assets/js/125.c846ffe5.js"><link rel="prefetch" href="/assets/js/126.1ac90593.js"><link rel="prefetch" href="/assets/js/127.3730fa17.js"><link rel="prefetch" href="/assets/js/128.6e45bb72.js"><link rel="prefetch" href="/assets/js/129.c399fe45.js"><link rel="prefetch" href="/assets/js/13.c6897281.js"><link rel="prefetch" href="/assets/js/130.a6edbaa1.js"><link rel="prefetch" href="/assets/js/131.7dbddf1e.js"><link rel="prefetch" href="/assets/js/132.99f27a10.js"><link rel="prefetch" href="/assets/js/133.746a18e0.js"><link rel="prefetch" href="/assets/js/134.409e4a44.js"><link rel="prefetch" href="/assets/js/135.b24b3055.js"><link rel="prefetch" href="/assets/js/136.0b5e375a.js"><link rel="prefetch" href="/assets/js/14.de3d5303.js"><link rel="prefetch" href="/assets/js/15.5f438d95.js"><link rel="prefetch" href="/assets/js/16.39340c4b.js"><link rel="prefetch" href="/assets/js/17.2e4c3205.js"><link rel="prefetch" href="/assets/js/18.a5757c78.js"><link rel="prefetch" href="/assets/js/19.273a44dc.js"><link rel="prefetch" href="/assets/js/20.3e0ae41e.js"><link rel="prefetch" href="/assets/js/21.1857a88e.js"><link rel="prefetch" href="/assets/js/22.c9b6f871.js"><link rel="prefetch" href="/assets/js/23.2c37a436.js"><link rel="prefetch" href="/assets/js/24.a8b0e4b6.js"><link rel="prefetch" href="/assets/js/25.1eadac28.js"><link rel="prefetch" href="/assets/js/26.5a2fc6eb.js"><link rel="prefetch" href="/assets/js/27.872ed7ae.js"><link rel="prefetch" href="/assets/js/28.82630ea0.js"><link rel="prefetch" href="/assets/js/29.364b50a5.js"><link rel="prefetch" href="/assets/js/3.c2fcfeac.js"><link rel="prefetch" href="/assets/js/30.76f840bd.js"><link rel="prefetch" href="/assets/js/31.03e94de6.js"><link rel="prefetch" href="/assets/js/32.53f64090.js"><link rel="prefetch" href="/assets/js/33.a587af85.js"><link rel="prefetch" href="/assets/js/34.eebd62ab.js"><link rel="prefetch" href="/assets/js/35.3a0a62f7.js"><link rel="prefetch" href="/assets/js/36.9ed4a8da.js"><link rel="prefetch" href="/assets/js/37.535f0081.js"><link rel="prefetch" href="/assets/js/38.090e1365.js"><link rel="prefetch" href="/assets/js/39.380879af.js"><link rel="prefetch" href="/assets/js/4.216f8bd7.js"><link rel="prefetch" href="/assets/js/40.d825ba44.js"><link rel="prefetch" href="/assets/js/41.37d15321.js"><link rel="prefetch" href="/assets/js/42.7fa39424.js"><link rel="prefetch" href="/assets/js/43.0f1c44da.js"><link rel="prefetch" href="/assets/js/44.40f03525.js"><link rel="prefetch" href="/assets/js/45.921a7b3d.js"><link rel="prefetch" href="/assets/js/46.2e49f673.js"><link rel="prefetch" href="/assets/js/47.e4bb513f.js"><link rel="prefetch" href="/assets/js/48.f053d15c.js"><link rel="prefetch" href="/assets/js/49.6b31c72c.js"><link rel="prefetch" href="/assets/js/5.68738fb1.js"><link rel="prefetch" href="/assets/js/50.6c157082.js"><link rel="prefetch" href="/assets/js/51.35d64192.js"><link rel="prefetch" href="/assets/js/52.d94ee6e4.js"><link rel="prefetch" href="/assets/js/53.fd5f0cf8.js"><link rel="prefetch" href="/assets/js/54.ce7a4876.js"><link rel="prefetch" href="/assets/js/55.d324a78e.js"><link rel="prefetch" href="/assets/js/56.af355d1f.js"><link rel="prefetch" href="/assets/js/57.4093d927.js"><link rel="prefetch" href="/assets/js/58.9b709bb4.js"><link rel="prefetch" href="/assets/js/59.6fc140a4.js"><link rel="prefetch" href="/assets/js/60.33991b7f.js"><link rel="prefetch" href="/assets/js/61.92c21f33.js"><link rel="prefetch" href="/assets/js/62.07301c47.js"><link rel="prefetch" href="/assets/js/63.c0682281.js"><link rel="prefetch" href="/assets/js/64.125f82aa.js"><link rel="prefetch" href="/assets/js/65.f61b53aa.js"><link rel="prefetch" href="/assets/js/66.3b385668.js"><link rel="prefetch" href="/assets/js/67.0b1f674d.js"><link rel="prefetch" href="/assets/js/68.f2e0e0a4.js"><link rel="prefetch" href="/assets/js/69.b403f4b3.js"><link rel="prefetch" href="/assets/js/70.0564fde4.js"><link rel="prefetch" href="/assets/js/71.4791ea33.js"><link rel="prefetch" href="/assets/js/72.ba5ddda1.js"><link rel="prefetch" href="/assets/js/73.f8bfbb5f.js"><link rel="prefetch" href="/assets/js/74.e1d1bb27.js"><link rel="prefetch" href="/assets/js/75.b7c7d4b6.js"><link rel="prefetch" href="/assets/js/76.d0be94c8.js"><link rel="prefetch" href="/assets/js/77.e37e0d0f.js"><link rel="prefetch" href="/assets/js/78.48702587.js"><link rel="prefetch" href="/assets/js/79.1733bc2d.js"><link rel="prefetch" href="/assets/js/8.6d36ae63.js"><link rel="prefetch" href="/assets/js/80.8b7632e2.js"><link rel="prefetch" href="/assets/js/81.279a277b.js"><link rel="prefetch" href="/assets/js/82.f3c4d257.js"><link rel="prefetch" href="/assets/js/83.1dac911e.js"><link rel="prefetch" href="/assets/js/84.dda7d1f2.js"><link rel="prefetch" href="/assets/js/85.66cd30f6.js"><link rel="prefetch" href="/assets/js/86.efeb6ad1.js"><link rel="prefetch" href="/assets/js/87.44eca939.js"><link rel="prefetch" href="/assets/js/88.8dd9ff3b.js"><link rel="prefetch" href="/assets/js/89.27111d02.js"><link rel="prefetch" href="/assets/js/9.b16f1b7c.js"><link rel="prefetch" href="/assets/js/90.aaa06324.js"><link rel="prefetch" href="/assets/js/91.6d031176.js"><link rel="prefetch" href="/assets/js/92.8745b0da.js"><link rel="prefetch" href="/assets/js/93.f877011e.js"><link rel="prefetch" href="/assets/js/94.069d3175.js"><link rel="prefetch" href="/assets/js/95.2e22723f.js"><link rel="prefetch" href="/assets/js/96.98634116.js"><link rel="prefetch" href="/assets/js/97.8ab6ede6.js"><link rel="prefetch" href="/assets/js/98.036d7ee8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.853f9491.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1ed5ee10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="top-nav"><div class="nav-text"></div></div> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Krayin CRM Developer Portal" class="logo"> <span class="site-name can-hide">Krayin CRM Developer Portal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.0">2.0</option> <option value="1.x" selected="selected">1.x</option></select></div></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.0">2.0</option> <option value="1.x" selected="selected">1.x</option></select></div></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/master/prologue" class="sidebar-heading clickable"><span>Prologue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/introduction" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/packages" class="sidebar-heading clickable"><span>Package Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/advanced" class="sidebar-heading clickable router-link-active open"><span>Digging Deeper</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/advanced/events.html" class="sidebar-link">Events Listeners</a></li><li><a href="/master/advanced/helpers.html" class="sidebar-link">Helpers</a></li><li><a href="/master/advanced/override-core-model.html" class="sidebar-link">Override Core Models</a></li><li><a href="/master/advanced/render-event.html" class="sidebar-link">View Render Event</a></li><li><a href="/master/advanced/security-practice.html" class="sidebar-link">Best Security Practices</a></li><li><a href="/master/advanced/email-inbound-parse.html" aria-current="page" class="active sidebar-link"> Email Inbound Parse</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/master/advanced/data-transfer.html" class="sidebar-link">Data Transfer</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/master/api" class="sidebar-heading clickable"><span>Krayin APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#sendgrid-inbound-parse">SendGrid Inbound Parse</a></li><li><a href="#imap-inbound-parse">IMAP Inbound Parse</a></li></ul></div><p></p> <h3 id="sendgrid-inbound-parse"><a href="#sendgrid-inbound-parse" class="header-anchor">#</a> <strong>SendGrid Inbound Parse</strong></h3> <p>Krayin CRM can be integrated with SendGrid’s <strong>Inbound Parse Webhook</strong> to handle incoming emails. This allows emails sent to a specific domain to be automatically processed by Krayin and displayed in the <strong>Mail &gt; Inbox</strong> section.</p> <h4 id="overview"><a href="#overview" class="header-anchor">#</a> <strong>Overview</strong></h4> <p>The <strong>Inbound Parse Webhook</strong> feature of SendGrid allows emails to be converted into HTTP POST requests and forwarded to a specified URL in your application. By integrating SendGrid with Krayin CRM, you can seamlessly receive and display incoming emails.</p> <h4 id="set-sendgrid-as-the-email-receiver-driver"><a href="#set-sendgrid-as-the-email-receiver-driver" class="header-anchor">#</a> <strong>Set SendGrid as the Email Receiver Driver</strong></h4> <p>In the <code>.env</code> file, ensure that the <code>MAIL_RECEIVER_DRIVER</code> is set to <code>sendgrid</code>:</p> <div class="language-env extra-class"><pre class="language-text"><code>MAIL_RECEIVER_DRIVER=sendgrid
</code></pre></div><p>This tells Krayin CRM to use the SendGrid package to handle incoming emails.</p> <h4 id="setting-up-sendgrid-inbound-parse-with-krayin-crm"><a href="#setting-up-sendgrid-inbound-parse-with-krayin-crm" class="header-anchor">#</a> <strong>Setting Up SendGrid Inbound Parse with Krayin CRM</strong></h4> <ol><li><p><strong>Create a Domain and Email in SendGrid</strong></p> <ul><li>Log into your <a href="https://app.sendgrid.com/" target="_blank" rel="noopener noreferrer">SendGrid account<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to <strong>Settings</strong> &gt; <strong>Inbound Parse</strong>.</li> <li>Click <strong>Add Host &amp; URL</strong> to configure a new Parse Webhook.</li> <li>Add the domain from which you want to receive emails (e.g., <code>example.com</code>).</li> <li>Under the <strong>URL</strong> field, specify your Krayin CRM webhook URL, which should be in the format:<div class="language- extra-class"><pre class="language-text"><code>http://yourdomain.com/admin/mail/inbound-parse
</code></pre></div>Replace <code>yourdomain.com</code> with your actual domain and ensure the endpoint matches your Krayin setup.</li></ul></li> <li><p><strong>Configure Krayin CRM to Receive Emails</strong></p> <ul><li>Once the webhook is set up in SendGrid, all emails sent to the configured domain will be forwarded to the specified Krayin webhook.</li> <li>Krayin CRM will handle the incoming email data, including:
<ul><li><strong>From Address:</strong> The sender's email.</li> <li><strong>To Address:</strong> The recipient (your configured email).</li> <li><strong>Subject:</strong> Email subject.</li> <li><strong>Text/HTML Body:</strong> Email content in plain text or HTML.</li> <li><strong>Attachments:</strong> Any files attached to the email.</li></ul></li></ul></li> <li><p><strong>Krayin Endpoint for Inbound Parse</strong></p> <ul><li>Ensure that Krayin CRM is set up to receive the POST data from SendGrid. The email content will be sent to the following Krayin endpoint:<div class="language- extra-class"><pre class="language-text"><code>http://yourdomain.com/admin/mail/inbound-parse
</code></pre></div></li> <li>Krayin will parse the data sent by SendGrid, store the email information in the database, and display it in the <strong>Mail &gt; Inbox</strong> section.</li></ul></li></ol> <h4 id="handling-email-attachments"><a href="#handling-email-attachments" class="header-anchor">#</a> <strong>Handling Email Attachments</strong></h4> <p>Krayin CRM is capable of handling attachments that are sent via email. These attachments will be forwarded from SendGrid to your endpoint as <code>multipart/form-data</code>. Make sure your server can process and store these files for later retrieval in the <strong>Mail &gt; Inbox</strong> section of the CRM.</p> <h4 id="security-considerations"><a href="#security-considerations" class="header-anchor">#</a> <strong>Security Considerations</strong></h4> <ul><li><strong>Verify the Request Origin:</strong> Ensure that incoming requests to your webhook are actually coming from SendGrid. You can verify the origin by checking headers or configuring an API key in SendGrid for additional security.</li> <li><strong>HTTPS:</strong> Always use an HTTPS endpoint for secure communication between SendGrid and your server.</li></ul> <h4 id="debugging-and-testing"><a href="#debugging-and-testing" class="header-anchor">#</a> <strong>Debugging and Testing</strong></h4> <ul><li>SendGrid provides tools to simulate incoming emails, which can be used to test your webhook configuration.</li> <li>Ensure that your server’s response time is efficient. SendGrid expects a response within 20 seconds. If the email processing takes longer (e.g., saving attachments), consider using asynchronous background tasks.</li></ul> <h4 id="example-workflow"><a href="#example-workflow" class="header-anchor">#</a> <strong>Example Workflow</strong></h4> <ol><li>A user sends an email to <code>contact@example.com</code>.</li> <li>SendGrid captures the email and forwards it to your Krayin webhook (<code>http://yourdomain.com/admin/mail/inbound-parse</code>).</li> <li>Krayin CRM processes the incoming email, stores the details, and displays the email in the <strong>Mail &gt; Inbox</strong> section.</li></ol> <h3 id="imap-inbound-parse"><a href="#imap-inbound-parse" class="header-anchor">#</a> <strong>IMAP Inbound Parse</strong></h3> <p>Krayin CRM allows you to receive and manage your emails using the IMAP protocol. To integrate IMAP in Krayin CRM, we will use the <strong>Webklex-IMAP</strong> package as the email receiver driver.</p> <p><strong>IMAP</strong> (Internet Message Access Protocol) allows you to access your emails from any device without downloading them to your computer. Emails stay on the server, and you view them directly, with attachments only downloaded if needed. IMAP is ideal for accessing email on multiple devices, as any changes (like reading or deleting) are synced across all devices, making email management efficient and ensuring data consistency everywhere.</p> <h4 id="configure-env-file"><a href="#configure-env-file" class="header-anchor">#</a> <strong>Configure .env File</strong></h4> <p>To enable IMAP in Krayin CRM, you need to configure the <code>.env</code> file. Open the <code>.env</code> file in the root directory of your Laravel project and make the following changes:</p> <div class="language-env extra-class"><pre class="language-text"><code>MAIL_RECEIVER_DRIVER=webklex-imap

IMAP_HOST=imap.example.com        # Replace with your IMAP host (e.g., imap.gmail.com)
IMAP_PORT=993                     # Use port 993 for IMAP with SSL encryption
IMAP_ENCRYPTION=ssl               # Choose 'ssl' or 'tls' based on your server settings
IMAP_VALIDATE_CERT=true           # Set this to 'true' to validate SSL certificates
IMAP_USERNAME=your_username       # Replace with your IMAP account username (email address)
IMAP_PASSWORD=your_password       # Replace with your IMAP account password
</code></pre></div><h4 id="explanation-of-the-env-imap-variables"><a href="#explanation-of-the-env-imap-variables" class="header-anchor">#</a> <strong>Explanation of the <code>.env</code> IMAP Variables:</strong></h4> <ul><li><strong>IMAP_HOST</strong>: The IMAP server host name (e.g., <code>imap.gmail.com</code> for Gmail, <code>imap.example.com</code> for other email providers).</li> <li><strong>IMAP_PORT</strong>: The port used for IMAP communication, typically <code>993</code> for SSL.</li> <li><strong>IMAP_ENCRYPTION</strong>: Defines the encryption method for secure communication. It can be <code>ssl</code> or <code>tls</code>.</li> <li><strong>IMAP_VALIDATE_CERT</strong>: Set to <code>true</code> to validate SSL certificates for secure communication.</li> <li><strong>IMAP_USERNAME</strong>: Your IMAP email account username, which is typically your email address.</li> <li><strong>IMAP_PASSWORD</strong>: Your IMAP email account password.</li></ul> <h4 id="set-imap-as-the-email-receiver-driver"><a href="#set-imap-as-the-email-receiver-driver" class="header-anchor">#</a> <strong>Set IMAP as the Email Receiver Driver</strong></h4> <p>In the <code>.env</code> file, ensure that the <code>MAIL_RECEIVER_DRIVER</code> is set to <code>webklex-imap</code>:</p> <div class="language-env extra-class"><pre class="language-text"><code>MAIL_RECEIVER_DRIVER=webklex-imap
</code></pre></div><p>This tells Krayin CRM to use the Webklex IMAP package to handle incoming emails.</p> <h4 id="usage-of-imap-in-krayin-crm"><a href="#usage-of-imap-in-krayin-crm" class="header-anchor">#</a> <strong>Usage of IMAP in Krayin CRM</strong></h4> <p>Once the IMAP settings are configured in the <code>.env</code> file, Krayin CRM will be able to use IMAP to fetch emails from the specified email account.</p> <p>Make sure to check your email provider’s documentation for the correct IMAP settings.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-docs/edit/master/docs/master/advanced/email-inbound-parse.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/27/2024, 10:06:23 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/master/advanced/security-practice.html" class="prev">
        Best Security Practices
      </a></span> <span class="next"><a href="/master/advanced/data-transfer.html">
        Data Transfer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.731588d9.js" defer></script><script src="/assets/js/2.35eb6150.js" defer></script><script src="/assets/js/1.48c29e44.js" defer></script><script src="/assets/js/99.bf69eb9b.js" defer></script>
  </body>
</html>
