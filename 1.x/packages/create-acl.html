<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Access Control List | Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.2104eaab.css" as="style"><link rel="preload" href="/assets/js/app.7cad34e0.js" as="script"><link rel="preload" href="/assets/js/2.a84fc54c.js" as="script"><link rel="preload" href="/assets/js/1.d9ff6c9f.js" as="script"><link rel="preload" href="/assets/js/23.6ebf4a72.js" as="script"><link rel="prefetch" href="/assets/js/10.ba067d93.js"><link rel="prefetch" href="/assets/js/11.7ffce9e0.js"><link rel="prefetch" href="/assets/js/12.240d8bfd.js"><link rel="prefetch" href="/assets/js/13.c801f3cc.js"><link rel="prefetch" href="/assets/js/14.7ff45313.js"><link rel="prefetch" href="/assets/js/15.a6fd06d5.js"><link rel="prefetch" href="/assets/js/16.052ed216.js"><link rel="prefetch" href="/assets/js/17.23200551.js"><link rel="prefetch" href="/assets/js/18.21248741.js"><link rel="prefetch" href="/assets/js/19.d58a4ae4.js"><link rel="prefetch" href="/assets/js/20.18134eb5.js"><link rel="prefetch" href="/assets/js/21.e58d59c5.js"><link rel="prefetch" href="/assets/js/22.22d975be.js"><link rel="prefetch" href="/assets/js/24.38ca4f68.js"><link rel="prefetch" href="/assets/js/25.4841c198.js"><link rel="prefetch" href="/assets/js/26.1d5bc314.js"><link rel="prefetch" href="/assets/js/27.cf994e57.js"><link rel="prefetch" href="/assets/js/28.8b0b73c3.js"><link rel="prefetch" href="/assets/js/29.f9c494df.js"><link rel="prefetch" href="/assets/js/3.c3d3b13f.js"><link rel="prefetch" href="/assets/js/30.9e9b1e40.js"><link rel="prefetch" href="/assets/js/31.df7be907.js"><link rel="prefetch" href="/assets/js/32.b01ad21c.js"><link rel="prefetch" href="/assets/js/33.2bc34f66.js"><link rel="prefetch" href="/assets/js/34.aa6c0c40.js"><link rel="prefetch" href="/assets/js/35.4da0342d.js"><link rel="prefetch" href="/assets/js/36.246a77b6.js"><link rel="prefetch" href="/assets/js/37.36a4288b.js"><link rel="prefetch" href="/assets/js/38.1a89eb00.js"><link rel="prefetch" href="/assets/js/39.6bb8f0a9.js"><link rel="prefetch" href="/assets/js/4.489d92f7.js"><link rel="prefetch" href="/assets/js/40.b9a0c4a6.js"><link rel="prefetch" href="/assets/js/41.e7691912.js"><link rel="prefetch" href="/assets/js/42.00f38ca3.js"><link rel="prefetch" href="/assets/js/43.c1990384.js"><link rel="prefetch" href="/assets/js/44.b7db83db.js"><link rel="prefetch" href="/assets/js/45.5984e009.js"><link rel="prefetch" href="/assets/js/46.22e5a506.js"><link rel="prefetch" href="/assets/js/47.33235db7.js"><link rel="prefetch" href="/assets/js/48.94fb93fb.js"><link rel="prefetch" href="/assets/js/49.b7ef9b56.js"><link rel="prefetch" href="/assets/js/5.6645c8c1.js"><link rel="prefetch" href="/assets/js/50.eb1eeca3.js"><link rel="prefetch" href="/assets/js/51.5b41db28.js"><link rel="prefetch" href="/assets/js/52.b29d2c14.js"><link rel="prefetch" href="/assets/js/53.ecfa2cc2.js"><link rel="prefetch" href="/assets/js/54.004783fc.js"><link rel="prefetch" href="/assets/js/55.26265076.js"><link rel="prefetch" href="/assets/js/56.567c848a.js"><link rel="prefetch" href="/assets/js/57.1ae658eb.js"><link rel="prefetch" href="/assets/js/58.ac3c7cbe.js"><link rel="prefetch" href="/assets/js/8.a6063929.js"><link rel="prefetch" href="/assets/js/9.e068db4a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d1cc44a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2104eaab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/introduction" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/packages" class="sidebar-heading clickable router-link-active open"><span>Package Development</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.x/packages/create-package.html" class="sidebar-link">Getting Started</a></li><li><a href="/1.x/packages/create-migrations.html" class="sidebar-link">Migrations</a></li><li><a href="/1.x/packages/create-models.html" class="sidebar-link">Models</a></li><li><a href="/1.x/packages/store-data-through-repositories.html" class="sidebar-link">Repository</a></li><li><a href="/1.x/packages/routes.html" class="sidebar-link">Routes</a></li><li><a href="/1.x/packages/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/1.x/packages/views.html" class="sidebar-link">Views</a></li><li><a href="/1.x/packages/localization.html" class="sidebar-link">Localization</a></li><li><a href="/1.x/packages/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/1.x/packages/assets.html" class="sidebar-link">Assets</a></li><li><a href="/1.x/packages/add-menu-in-admin.html" class="sidebar-link">Admin Menu</a></li><li><a href="/1.x/packages/validation.html" class="sidebar-link">Validation</a></li><li><a href="/1.x/packages/datagrid.html" class="sidebar-link">DataGrid</a></li><li><a href="/1.x/packages/create-acl.html" aria-current="page" class="active sidebar-link">Access Control List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#directory-structure" class="sidebar-link">Directory Structure</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#merge-configuration" class="sidebar-link">Merge Configuration</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#checking-roles-and-permissions" class="sidebar-link">Checking Roles and Permissions</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/advanced" class="sidebar-heading clickable"><span>Digging Deeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/api" class="sidebar-heading clickable"><span>Krayin APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="access-control-list"><a href="#access-control-list" class="header-anchor">#</a> Access Control List</h1> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#directory-structure">Directory Structure</a></li><li><a href="#merge-configuration">Merge Configuration</a></li><li><a href="#checking-roles-and-permissions">Checking Roles and Permissions</a></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>In addition to providing authentication services out of the box, Krayin also offers an Access Control List (ACL) functionality. This feature allows administrators to control user access to different parts of Krayin.</p> <h2 id="directory-structure"><a href="#directory-structure" class="header-anchor">#</a> Directory Structure</h2> <p>To configure the ACL, follow these steps:</p> <ol><li><p>Create a new file named <strong><code>acl.php</code></strong> in the <strong><code>packages/Webkul/Category/src/Config</code></strong> folder of your package.</p> <div class="language- extra-class"><pre class="language-text"><code>└── packages
    └── Webkul
        └── Category
            └── src
                ├── ...
                └── Config
                    ├── acl.php
                    └── ...
</code></pre></div></li> <li><p>Add the following code to <strong><code>acl.php</code></strong>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'key'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'route'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category.admin.index'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'sort'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>In the above code, we have defined an array for each menu item with the parameters (key, name, route, and sort). You need to define the menus you want to include in the ACL here.</p></li></ol> <h2 id="merge-configuration"><a href="#merge-configuration" class="header-anchor">#</a> Merge Configuration</h2> <p>To merge the ACL configuration, follow these steps:</p> <ol><li><p>Open the <strong><code>CategoryServiceProvider</code></strong> class in the <strong><code>Webkul\Category\Providers</code></strong> namespace.</p></li> <li><p>In the <strong><code>register</code></strong> method, add the following code to merge the ACL configuration:</p> <div class="language-php extra-class"><pre class="language-php"><code> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

 <span class="token keyword">namespace</span> <span class="token package">Webkul<span class="token punctuation">\</span>Category<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

 <span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

 <span class="token keyword">class</span> <span class="token class-name-definition class-name">CategoryServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
 <span class="token punctuation">{</span>
     <span class="token comment">/**
      * Register services.
      *
      * @return void
      */</span>
     <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
         <span class="token comment">//...</span>
         
         <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">mergeConfigFrom</span><span class="token punctuation">(</span>
            <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/Config/acl.php'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'acl'</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</span></code></pre></div><p>This will merge the ACL configuration with the existing configuration.</p></li> <li><p>After making the changes, run the following command to cache the latest changes:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan optimize
</code></pre></div><p>This will ensure that the latest ACL configuration is used.</p></li> <li><p>You can now check the updated ACL configuration in the admin panel:</p> <details class="custom-block details"><summary>Admin ACL Output</summary> <p><img src="/assets/img/admin-acl.2c9417f5.png" alt="Admin ACL Output"></p></details></li></ol> <h2 id="checking-roles-and-permissions"><a href="#checking-roles-and-permissions" class="header-anchor">#</a> Checking Roles and Permissions</h2> <p>To check roles and permissions, follow these steps:</p> <ol><li><p>Open the <strong><code>Admin</code></strong> model in the <strong><code>Webkul\User\Models</code></strong> namespace.</p></li> <li><p>In this model, you will find a relationship binding with the <strong><code>Role</code></strong> model in the same namespace. You can use this relationship to access all the permissions of the current user.</p></li> <li><p>We have provided the <strong><code>bouncer()</code></strong> helper function, which allows you to check permissions. Use the following code to check if the current user has a specific permission:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">bouncer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token punctuation">)</span>
</code></pre></div><p>Replace <code>$permission</code> with the actual permission you want to check.</p></li></ol> <p>By following these steps, you can configure and manage the Access Control List (ACL) in Krayin.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-docs/edit/master/docs/1.x/packages/create-acl.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/19/2024, 11:59:44 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1.x/packages/datagrid.html" class="prev">
        DataGrid
      </a></span> <span class="next"><a href="/1.x/advanced/events.html">
        Events Listeners
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.7cad34e0.js" defer></script><script src="/assets/js/2.a84fc54c.js" defer></script><script src="/assets/js/1.d9ff6c9f.js" defer></script><script src="/assets/js/23.6ebf4a72.js" defer></script>
  </body>
</html>
