<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Access Control List | Krayin CRM Developer Portal</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    <meta name="title" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.a79998da.css" as="style"><link rel="preload" href="/assets/js/app.255df903.js" as="script"><link rel="preload" href="/assets/js/2.c7e1a4cb.js" as="script"><link rel="preload" href="/assets/js/1.48df4328.js" as="script"><link rel="preload" href="/assets/js/45.04f52ffa.js" as="script"><link rel="prefetch" href="/assets/js/10.1dba64eb.js"><link rel="prefetch" href="/assets/js/11.c800de4e.js"><link rel="prefetch" href="/assets/js/12.240d8bfd.js"><link rel="prefetch" href="/assets/js/13.f7263ce6.js"><link rel="prefetch" href="/assets/js/14.e72960fa.js"><link rel="prefetch" href="/assets/js/15.2636a4e7.js"><link rel="prefetch" href="/assets/js/16.58335ce6.js"><link rel="prefetch" href="/assets/js/17.23200551.js"><link rel="prefetch" href="/assets/js/18.21248741.js"><link rel="prefetch" href="/assets/js/19.78e96951.js"><link rel="prefetch" href="/assets/js/20.18134eb5.js"><link rel="prefetch" href="/assets/js/21.5b6eadf2.js"><link rel="prefetch" href="/assets/js/22.53075cde.js"><link rel="prefetch" href="/assets/js/23.828fb928.js"><link rel="prefetch" href="/assets/js/24.f663eee6.js"><link rel="prefetch" href="/assets/js/25.b13100a3.js"><link rel="prefetch" href="/assets/js/26.fdef7c6a.js"><link rel="prefetch" href="/assets/js/27.53f5eed3.js"><link rel="prefetch" href="/assets/js/28.f9d5b92f.js"><link rel="prefetch" href="/assets/js/29.192a8672.js"><link rel="prefetch" href="/assets/js/3.7b074b0f.js"><link rel="prefetch" href="/assets/js/30.bb77d9a2.js"><link rel="prefetch" href="/assets/js/31.33f4821f.js"><link rel="prefetch" href="/assets/js/32.aa57d6f0.js"><link rel="prefetch" href="/assets/js/33.b3c0de1f.js"><link rel="prefetch" href="/assets/js/34.6cb9f5e1.js"><link rel="prefetch" href="/assets/js/35.c544496e.js"><link rel="prefetch" href="/assets/js/36.650631ed.js"><link rel="prefetch" href="/assets/js/37.b5a49134.js"><link rel="prefetch" href="/assets/js/38.3bbdeecf.js"><link rel="prefetch" href="/assets/js/39.6f2f06d0.js"><link rel="prefetch" href="/assets/js/4.cc6092b9.js"><link rel="prefetch" href="/assets/js/40.3c777840.js"><link rel="prefetch" href="/assets/js/41.7c677cd8.js"><link rel="prefetch" href="/assets/js/42.9745a024.js"><link rel="prefetch" href="/assets/js/43.fd1dad19.js"><link rel="prefetch" href="/assets/js/44.aecf5f79.js"><link rel="prefetch" href="/assets/js/46.709a3041.js"><link rel="prefetch" href="/assets/js/47.1ec640e9.js"><link rel="prefetch" href="/assets/js/48.fabb7629.js"><link rel="prefetch" href="/assets/js/49.4787fee0.js"><link rel="prefetch" href="/assets/js/5.0e6a8629.js"><link rel="prefetch" href="/assets/js/50.cc24846d.js"><link rel="prefetch" href="/assets/js/51.551531a2.js"><link rel="prefetch" href="/assets/js/52.c4db90f6.js"><link rel="prefetch" href="/assets/js/53.7aad71f2.js"><link rel="prefetch" href="/assets/js/54.8856cb22.js"><link rel="prefetch" href="/assets/js/55.fb5ba6ab.js"><link rel="prefetch" href="/assets/js/56.f5780b89.js"><link rel="prefetch" href="/assets/js/57.9467add1.js"><link rel="prefetch" href="/assets/js/8.7c07cf4b.js"><link rel="prefetch" href="/assets/js/9.b6ae50ed.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.df01eec3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a79998da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Krayin CRM Developer Portal" class="logo"> <span class="site-name can-hide">Krayin CRM Developer Portal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/introduction" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/packages" class="sidebar-heading clickable router-link-active open"><span>Package Development</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.x/packages/create-package.html" class="sidebar-link">Getting Started</a></li><li><a href="/1.x/packages/create-migrations.html" class="sidebar-link">Migrations</a></li><li><a href="/1.x/packages/create-models.html" class="sidebar-link">Models</a></li><li><a href="/1.x/packages/store-data-through-repositories.html" class="sidebar-link">Repository</a></li><li><a href="/1.x/packages/routes.html" class="sidebar-link">Routes</a></li><li><a href="/1.x/packages/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/1.x/packages/views.html" class="sidebar-link">Views</a></li><li><a href="/1.x/packages/localization.html" class="sidebar-link">Localization</a></li><li><a href="/1.x/packages/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/1.x/packages/assets.html" class="sidebar-link">Assets</a></li><li><a href="/1.x/packages/add-menu-in-admin.html" class="sidebar-link">Admin Menu</a></li><li><a href="/1.x/packages/validation.html" class="sidebar-link">Validation</a></li><li><a href="/1.x/packages/datagrid.html" class="sidebar-link">DataGrid</a></li><li><a href="/1.x/packages/create-acl.html" aria-current="page" class="active sidebar-link">Access Control List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#directory-structure" class="sidebar-link">Directory Structure</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#merge-acl-configuration" class="sidebar-link">Merge ACL Configuration</a></li><li class="sidebar-sub-header"><a href="/1.x/packages/create-acl.html#checking-roles-and-permissions" class="sidebar-link">Checking Roles and Permissions</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/advanced" class="sidebar-heading clickable"><span>Digging Deeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/api" class="sidebar-heading clickable"><span>Krayin APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="access-control-list"><a href="#access-control-list" class="header-anchor">#</a> Access Control List</h1> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#directory-structure">Directory Structure</a><ul><li><a href="#create-configuration-file">Create Configuration File</a></li><li><a href="#define-acl-configuration">Define ACL Configuration</a></li></ul></li><li><a href="#merge-acl-configuration">Merge ACL Configuration</a><ul><li><a href="#modify-service-provider">Modify Service Provider</a></li><li><a href="#register-method">Register Method</a></li><li><a href="#clear-configuration-cache">Clear Configuration Cache</a></li><li><a href="#verify-in-admin-panel">Verify in Admin Panel</a></li></ul></li><li><a href="#checking-roles-and-permissions">Checking Roles and Permissions</a><ul><li><a href="#access-roles">Access Roles</a></li><li><a href="#permission-checks">Permission Checks</a></li></ul></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Krayin's Access Control List (ACL) feature enhances security by allowing administrators to finely manage user access across different application sections. It enables precise control over permissions, ensuring users only access authorized resources and actions. By defining roles and assigning privileges based on organizational structures or responsibilities, Krayin's ACL strengthens governance, safeguards sensitive data, and ensures compliance with policies. This capability supports a secure and customizable user experience, adapting permissions dynamically to meet evolving organizational needs, thereby enhancing operational efficiency.</p> <h2 id="directory-structure"><a href="#directory-structure" class="header-anchor">#</a> Directory Structure</h2> <p>To configure Access Control List (ACL) settings in Krayin, follow these structured steps:</p> <h3 id="create-configuration-file"><a href="#create-configuration-file" class="header-anchor">#</a> Create Configuration File</h3> <p>Begin by creating a new file named <code>acl.php</code> within the <code>Config</code> directory of your package located at <code>packages/Webkul/Category/src/Config</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>└── packages
      └── Webkul
         └── Category
            └── src
                  ├── ...
                  └── Config
                     ├── acl.php
                     └── ...
</code></pre></div><h3 id="define-acl-configuration"><a href="#define-acl-configuration" class="header-anchor">#</a> Define ACL Configuration</h3> <p>Inside <code>acl.php</code>, define ACL settings using an array format. Each array element represents a menu item or resource with parameters such as key, <code>name</code>, <code>route</code>, and <code>sort</code>. Here’s an example:</p> <p>Add the following code to <code>acl.php</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
         <span class="token string single-quoted-string">'key'</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category'</span><span class="token punctuation">,</span>
         <span class="token string single-quoted-string">'name'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category'</span><span class="token punctuation">,</span>
         <span class="token string single-quoted-string">'route'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'category.admin.index'</span><span class="token punctuation">,</span>
         <span class="token string single-quoted-string">'sort'</span>  <span class="token operator">=&gt;</span> <span class="token number">2</span>
      <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>In the above code, we have defined an array for each menu item with the parameters (key, name, route, and sort). You need to define the menus you want to include in the ACL here.</p> <h2 id="merge-acl-configuration"><a href="#merge-acl-configuration" class="header-anchor">#</a> Merge ACL Configuration</h2> <p>To merge the ACL configuration, follow these steps:</p> <h3 id="modify-service-provider"><a href="#modify-service-provider" class="header-anchor">#</a> Modify Service Provider</h3> <p>Navigate to the <code>CategoryServiceProvider</code> class within the <code>Webkul\Category\Providers</code> namespace.</p> <h3 id="register-method"><a href="#register-method" class="header-anchor">#</a> Register Method</h3> <p>Inside the <code>register</code> method of your service provider, use the mergeConfigFrom method to merge your ACL configuration file:</p> <div class="language-php extra-class"><pre class="language-php"><code>   <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

   <span class="token keyword">namespace</span> <span class="token package">Webkul<span class="token punctuation">\</span>Category<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

   <span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

   <span class="token keyword">class</span> <span class="token class-name-definition class-name">CategoryServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
   <span class="token punctuation">{</span>
      <span class="token comment">/**
      * Register services.
      *
      * @return void
      */</span>
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token comment">//  ...</span>
         
         <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">mergeConfigFrom</span><span class="token punctuation">(</span>
            <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/Config/acl.php'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'acl'</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</span></code></pre></div><p>Ensure that the path specified in mergeConfigFrom matches the location of your acl.php file.</p> <p>This will merge the ACL configuration with the existing configuration.</p> <h3 id="clear-configuration-cache"><a href="#clear-configuration-cache" class="header-anchor">#</a> Clear Configuration Cache</h3> <p>After making changes, clear the configuration cache to apply the latest ACL configuration:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan optimize
</code></pre></div><h3 id="verify-in-admin-panel"><a href="#verify-in-admin-panel" class="header-anchor">#</a> Verify in Admin Panel</h3> <p>Check the updated ACL configuration within the admin panel to confirm that menu items are correctly displayed and sorted according to your configuration.</p> <p>This will ensure that the latest ACL configuration is used.</p> <h2 id="checking-roles-and-permissions"><a href="#checking-roles-and-permissions" class="header-anchor">#</a> Checking Roles and Permissions</h2> <p>To manage roles and permissions effectively:</p> <h3 id="access-roles"><a href="#access-roles" class="header-anchor">#</a> Access Roles</h3> <p>In the Admin model located in <code>Webkul\User\Models</code>, utilize the relationship with the Role model to manage <code>roles</code> associated with users.</p> <h3 id="permission-checks"><a href="#permission-checks" class="header-anchor">#</a> Permission Checks</h3> <p>Use the <code>bouncer()</code> helper function to verify if a user has specific permissions. Example usage:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">bouncer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token punctuation">)</span>
</code></pre></div><p>Replace <code>$permission</code> with the actual permission you want to check.</p> <p>By following these steps, you can seamlessly configure and manage Access Control List (ACL) settings in Krayin, ensuring secure and controlled access to administrative functionalities.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-docs/edit/master/docs/1.x/packages/create-acl.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/7/2024, 12:31:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1.x/packages/datagrid.html" class="prev">
        DataGrid
      </a></span> <span class="next"><a href="/1.x/advanced/events.html">
        Events Listeners
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.255df903.js" defer></script><script src="/assets/js/2.c7e1a4cb.js" defer></script><script src="/assets/js/1.48df4328.js" defer></script><script src="/assets/js/45.04f52ffa.js" defer></script>
  </body>
</html>
