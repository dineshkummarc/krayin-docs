<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker | Krayin CRM Developer Portal</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    <meta name="title" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.a79998da.css" as="style"><link rel="preload" href="/assets/js/app.34d78214.js" as="script"><link rel="preload" href="/assets/js/2.c7e1a4cb.js" as="script"><link rel="preload" href="/assets/js/1.48df4328.js" as="script"><link rel="preload" href="/assets/js/37.b5a49134.js" as="script"><link rel="prefetch" href="/assets/js/10.1dba64eb.js"><link rel="prefetch" href="/assets/js/11.c800de4e.js"><link rel="prefetch" href="/assets/js/12.240d8bfd.js"><link rel="prefetch" href="/assets/js/13.f7263ce6.js"><link rel="prefetch" href="/assets/js/14.9fe61dd3.js"><link rel="prefetch" href="/assets/js/15.2636a4e7.js"><link rel="prefetch" href="/assets/js/16.58335ce6.js"><link rel="prefetch" href="/assets/js/17.23200551.js"><link rel="prefetch" href="/assets/js/18.21248741.js"><link rel="prefetch" href="/assets/js/19.78e96951.js"><link rel="prefetch" href="/assets/js/20.18134eb5.js"><link rel="prefetch" href="/assets/js/21.eeed2733.js"><link rel="prefetch" href="/assets/js/22.53075cde.js"><link rel="prefetch" href="/assets/js/23.82174da6.js"><link rel="prefetch" href="/assets/js/24.f663eee6.js"><link rel="prefetch" href="/assets/js/25.ab4e4db5.js"><link rel="prefetch" href="/assets/js/26.3955f253.js"><link rel="prefetch" href="/assets/js/27.5887633f.js"><link rel="prefetch" href="/assets/js/28.f9d5b92f.js"><link rel="prefetch" href="/assets/js/29.192a8672.js"><link rel="prefetch" href="/assets/js/3.7b074b0f.js"><link rel="prefetch" href="/assets/js/30.bb77d9a2.js"><link rel="prefetch" href="/assets/js/31.33f4821f.js"><link rel="prefetch" href="/assets/js/32.aa57d6f0.js"><link rel="prefetch" href="/assets/js/33.b3c0de1f.js"><link rel="prefetch" href="/assets/js/34.6cb9f5e1.js"><link rel="prefetch" href="/assets/js/35.c544496e.js"><link rel="prefetch" href="/assets/js/36.7999bc44.js"><link rel="prefetch" href="/assets/js/38.28d0520f.js"><link rel="prefetch" href="/assets/js/39.6f2f06d0.js"><link rel="prefetch" href="/assets/js/4.cc6092b9.js"><link rel="prefetch" href="/assets/js/40.3c777840.js"><link rel="prefetch" href="/assets/js/41.7c677cd8.js"><link rel="prefetch" href="/assets/js/42.f7743943.js"><link rel="prefetch" href="/assets/js/43.a4fb3446.js"><link rel="prefetch" href="/assets/js/44.e663f3fd.js"><link rel="prefetch" href="/assets/js/45.c454c599.js"><link rel="prefetch" href="/assets/js/46.2e18ea85.js"><link rel="prefetch" href="/assets/js/47.1ec640e9.js"><link rel="prefetch" href="/assets/js/48.3c2c2812.js"><link rel="prefetch" href="/assets/js/49.0ce5ac3f.js"><link rel="prefetch" href="/assets/js/5.0e6a8629.js"><link rel="prefetch" href="/assets/js/50.2b41a9d1.js"><link rel="prefetch" href="/assets/js/51.a9e7d144.js"><link rel="prefetch" href="/assets/js/52.2a1bd0f1.js"><link rel="prefetch" href="/assets/js/53.1229fcc2.js"><link rel="prefetch" href="/assets/js/54.8856cb22.js"><link rel="prefetch" href="/assets/js/55.f410a510.js"><link rel="prefetch" href="/assets/js/56.f5780b89.js"><link rel="prefetch" href="/assets/js/57.9467add1.js"><link rel="prefetch" href="/assets/js/8.7c07cf4b.js"><link rel="prefetch" href="/assets/js/9.b6ae50ed.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.df01eec3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a79998da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Krayin CRM Developer Portal" class="logo"> <span class="site-name can-hide">Krayin CRM Developer Portal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/introduction" class="sidebar-heading clickable router-link-active open"><span>Introduction</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.x/introduction/requirements.html" class="sidebar-link">Requirements</a></li><li><a href="/1.x/introduction/installation.html" class="sidebar-link">Installation</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/packages" class="sidebar-heading clickable"><span>Package Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/advanced" class="sidebar-heading clickable"><span>Digging Deeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/api" class="sidebar-heading clickable"><span>Krayin APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h1> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#installation-setup">Installation &amp; Setup</a><ul><li><a href="#first-steps">First steps</a></li><li><a href="#configure-the-docker-container">Configure the docker container</a></li><li><a href="#launching-the-docker-container">Launching the docker container</a></li><li><a href="#monitor-your-container-s">Monitor your container(s):</a></li></ul></li><li><a href="#configuring-krayin">Configuring Krayin</a><ul><li><a href="#install-without-composer">Install without composer</a></li><li><a href="#install-with-composer">Install with composer</a></li><li><a href="#configure-apache">Configure Apache</a></li><li><a href="#ready">Ready</a></li></ul></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p><a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your infrastructure so you can deliver software quickly. With Docker, you can manage your infrastructure in the same ways you manage your applications. Docker can also be used for defining and running multi-container Docker applications using Docker-Compose tool.</p> <p>With the help of docker-compose, you can define containers to be build, their configuration, links, volumes, ports etc in a single file and it gets launched by a single command.
You can also add multiple servers and services just by adding them to docker-compose configuration file. This configuration file is in <a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener noreferrer">YAML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> format.</p> <h4 id="application-data-and-database-volume-persistance"><a href="#application-data-and-database-volume-persistance" class="header-anchor">#</a> Application Data and Database Volume Persistance</h4> <p>It is recommended to keep your application files and database data volume on the docker host and mount them on the running container, this to ensure that the application and database data persistance even in the case of containers' failure or termination, In this way even if you destroy containers, your data won't get lost unless you remove them forcefully.
This compose configuration file mounts the application directory <code>app</code> and database volume <code>dbvolume</code> from host to running docker containers at the time of containers launch.</p> <h2 id="installation-setup"><a href="#installation-setup" class="header-anchor">#</a> Installation &amp; Setup</h2> <h3 id="first-steps"><a href="#first-steps" class="header-anchor">#</a> First steps</h3> <p>Before you can launch Krayin in a docker environment you need to install the latest version of Docker and Docker Compose.</p> <ul><li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker-compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">Composer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (optional)</li></ul> <h3 id="configure-the-docker-container"><a href="#configure-the-docker-container" class="header-anchor">#</a> Configure the docker container</h3> <p>Once Docker and docker-compose have been installed, we need to create a <strong>docker-compose.yml</strong> file.<br>
The <strong>docker-compose.yml</strong> configuration file requires following inputs from the user:</p> <h4 id="webserver-configuration"><a href="#webserver-configuration" class="header-anchor">#</a> Webserver configuration</h4> <p>In the <code>web_server</code> service block, assign your system working user uid to the <code>USER_UID</code> enviroment variable.<br>
Run the following command <code>id -u</code> on linux or Macos to get your user id</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">id</span> <span class="token parameter variable">-u</span>
</code></pre></div><h4 id="database-configuration"><a href="#database-configuration" class="header-anchor">#</a> Database configuration</h4> <p>In the <code>database_server</code> service block, assign mysql database name, mysql database user name, mysql database user password and mysql root password to <code>MYSQL_DATABASE</code>, <code>MYSQL_USER</code>, <code>MYSQL_PASSWORD</code> and <code>MYSQL_ROOT_PASSWORD</code> environment.</p> <h4 id="clone-configuration-from-github"><a href="#clone-configuration-from-github" class="header-anchor">#</a> Clone configuration from Github</h4> <p>You can make use of our repository from Github by cloning this in your new directory</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/krayin/Krayin-docker.git <span class="token builtin class-name">.</span>
</code></pre></div><h4 id="configure-manually"><a href="#configure-manually" class="header-anchor">#</a> Configure manually</h4> <ul><li>Create a new directory for example <strong>Krayin-docker</strong> and create <strong>docker-compose.yml</strong> manually inside it.</li> <li>Add the following content to <strong>docker-compose.yml</strong></li></ul> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">web_server</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> webkul/apache<span class="token punctuation">-</span>php<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> apache2
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./app<span class="token punctuation">:</span>/var/www/html
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> /var/www/html/
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">USER_UID</span><span class="token punctuation">:</span> <span class="token string">'mention your system user ID here. ex: 1001, 1000, 33, etc'</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Krayin<span class="token punctuation">-</span>network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'80:80'</span>
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'80'</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> database_server
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> database_server

  <span class="token key atrule">database_server</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.7</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> <span class="token string">'mention the name of the database to be created here. eg: mydatabase'</span>
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> <span class="token string">'mention database user here. eg: mydatabase_user'</span>
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">'mention database user password here. ex: mystrongPassword'</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">'mention mysql root password here. ex: mysqlstrongpass'</span>
      <span class="token key atrule">MYSQL_ROOT_HOST</span><span class="token punctuation">:</span> <span class="token string">'%'</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Krayin<span class="token punctuation">-</span>network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'3306:3306'</span>
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'3306'</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./dbvolume<span class="token punctuation">:</span>/var/lib/mysql

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">dbvolume</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">Krayin-network</span><span class="token punctuation">:</span>
</code></pre></div><h4 id="download-the-docker-image"><a href="#download-the-docker-image" class="header-anchor">#</a> Download the docker image</h4> <p>The following command will download the docker images for apache-php version 7.3 and mysql version 5.7.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker-compose</span> pull
</code></pre></div><h3 id="launching-the-docker-container"><a href="#launching-the-docker-container" class="header-anchor">#</a> Launching the docker container</h3> <p>The following command will create a network, launch a webserver and database containers with names <code>apache2</code> and <code>mysql</code>.
It will also create a new <code>app</code> and <code>dbvolume</code> directory inside your current directory and mount it to respective docker containers as mentioned in docker-compose.yml.
It binds your <code>host port 80</code> with the apache2 container port 80 and <code>host port 3306</code> with mysql container port 3306. If you want to run containers on ports other than 80 and 3306, modify their values in <strong>docker-compose.yml</strong> file.</p> <div class="language- extra-class"><pre class="language-text"><code>docker-compose up -d
</code></pre></div><h3 id="monitor-your-container-s"><a href="#monitor-your-container-s" class="header-anchor">#</a> Monitor your container(s):</h3> <p>Check your running docker containers with the following commands</p> <p><code>docker ps</code> OR <code>docker-compose ps</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>CONTAINER ID   IMAGE                      COMMAND                  CREATED             STATUS             PORTS                               NAMES
62a10346b84a   webkul/apache-php:latest   <span class="token string">&quot;/usr/bin/supervisord&quot;</span>   About an hour ago   Up About an hour   <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp                  apache2
90a0a2e0e46b   mysql:5.7                  <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   About an hour ago   Up About an hour   <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, <span class="token number">33060</span>/tcp   mysql
</code></pre></div><h2 id="configuring-krayin"><a href="#configuring-krayin" class="header-anchor">#</a> Configuring Krayin</h2> <p>Once our environment is ready we can start installing Krayin. You can either install Krayin from <a href="#install-without-composer">Github</a> or with <a href="#install-with-composer">composer</a></p> <h3 id="install-without-composer"><a href="#install-without-composer" class="header-anchor">#</a> Install without composer</h3> <p>Download the <a href="https://Krayin.com/en/download" target="_blank" rel="noopener noreferrer">latest release<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> inside <code>app/Krayin</code> directory.<br>
Open the <code>.env</code> file inside <strong>app/Krayin</strong> and set the following environment variables listed below:</p> <div class="language-editorconfig extra-class"><pre class="language-editorconfig"><code><span class="token key attr-name">APP_URL</span><span class="token value attr-value"><span class="token punctuation">=</span>https://127.0.0.1</span>
<span class="token key attr-name">DB_CONNECTION</span><span class="token value attr-value"><span class="token punctuation">=</span>mysql</span>
<span class="token key attr-name">DB_HOST</span><span class="token value attr-value"><span class="token punctuation">=</span>mysql</span>
<span class="token key attr-name">DB_PORT</span><span class="token value attr-value"><span class="token punctuation">=</span>3306</span>
<span class="token key attr-name">DB_DATABASE</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
<span class="token key attr-name">DB_USERNAME</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
<span class="token key attr-name">DB_PASSWORD</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
</code></pre></div><p>Run the following commands to install Krayin.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan migrate'&quot;</span> 
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan db:seed'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan vendor:publish'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan storage:link'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'composer dump-autoload -d Krayin'&quot;</span>
</code></pre></div><p>Mention the database details same as docker-compose.yml and admin details.</p> <h3 id="install-with-composer"><a href="#install-with-composer" class="header-anchor">#</a> Install with composer</h3> <p>The following commands will be exexcuted within the docker container</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'composer create-project Krayin/Krayin'&quot;</span>
</code></pre></div><p>Open the .env file inside <code>app/Krayin</code> directory and set the following environment variables listed below:</p> <div class="language-editorconfig extra-class"><pre class="language-editorconfig"><code><span class="token key attr-name">APP_URL</span><span class="token value attr-value"><span class="token punctuation">=</span>https://127.0.0.1</span>
<span class="token key attr-name">DB_CONNECTION</span><span class="token value attr-value"><span class="token punctuation">=</span>mysql</span>
<span class="token key attr-name">DB_HOST</span><span class="token value attr-value"><span class="token punctuation">=</span>mysql</span>
<span class="token key attr-name">DB_PORT</span><span class="token value attr-value"><span class="token punctuation">=</span>3306</span>
<span class="token key attr-name">DB_DATABASE</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
<span class="token key attr-name">DB_USERNAME</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
<span class="token key attr-name">DB_PASSWORD</span><span class="token value attr-value"><span class="token punctuation">=</span></span>
</code></pre></div><p>Run the following commands to install Krayin.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan migrate'&quot;</span> 
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan db:seed'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan vendor:publish'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'php Krayin/artisan storage:link'&quot;</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-i</span> apache2 <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;su - www-data -s /bin/bash -c 'composer dump-autoload -d Krayin'&quot;</span>
</code></pre></div><p>Krayin has been installed and is ready. Browse your server IP address or domain name on the web browser.</p> <h3 id="configure-apache"><a href="#configure-apache" class="header-anchor">#</a> Configure Apache</h3> <p>The Apache documentroot is by default assigned to <strong>/var/www/html/public_html</strong>. while the <strong>app</strong> directory on host is mapped with the <strong>html</strong> directory inside the container.
We need to create a symlink of <code>Krayin/public</code> in <code>app</code> directory to <code>/var/www/html/public_html</code>.</p> <p>Run the following command on Linux or MacOS</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> app<span class="token punctuation">;</span> <span class="token function">ln</span> <span class="token parameter variable">-snf</span> Krayin/public public_html
</code></pre></div><p>Run the following command on Windows</p> <div class="language-command-line extra-class"><pre class="language-text"><code>cd app
mklink Krayin/public public_html
</code></pre></div><h3 id="ready"><a href="#ready" class="header-anchor">#</a> Ready</h3> <h4 id="login-as-a-administrator"><a href="#login-as-a-administrator" class="header-anchor">#</a> Login as a administrator:</h4> <p>You can directly visit the admin interface <a href="http://your_server_endpoint/admin/" target="_blank" rel="noopener noreferrer">http://your_server_endpoint/admin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and authenticate with the following credentials.</p> <table><thead><tr><th>Email</th> <th>Password</th></tr></thead> <tbody><tr><td>admin@example.com</td> <td>admin123</td></tr></tbody></table> <h4 id="login-as-a-customer"><a href="#login-as-a-customer" class="header-anchor">#</a> Login as a customer</h4> <p>You can directly visit your store on <a href="http://your_server_endpoint/" target="_blank" rel="noopener noreferrer">http://your_server_endpoint/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-docs/edit/master/docs/1.x/introduction/docker.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/9/2024, 6:14:04 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.34d78214.js" defer></script><script src="/assets/js/2.c7e1a4cb.js" defer></script><script src="/assets/js/1.48df4328.js" defer></script><script src="/assets/js/37.b5a49134.js" defer></script>
  </body>
</html>
