(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{341:function(a,e,t){"use strict";t.r(e);var s=t(10),n=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"models"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#models"}},[a._v("#")]),a._v(" Models")]),a._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#using-krayin-package-generator"}},[a._v("Using Krayin Package Generator")])]),e("li",[e("a",{attrs:{href:"#using-laravel-artisan-command"}},[a._v("Using Laravel Artisan Command")]),e("ul",[e("li",[e("a",{attrs:{href:"#contract"}},[a._v("Contract")])]),e("li",[e("a",{attrs:{href:"#proxy"}},[a._v("Proxy")])]),e("li",[e("a",{attrs:{href:"#model"}},[a._v("Model")])]),e("li",[e("a",{attrs:{href:"#module-service-provider"}},[a._v("Module Service Provider")])])])])])]),e("p"),a._v(" "),e("p",[a._v("To understand Models in detail, you can visit the Laravel documentation "),e("a",{attrs:{href:"https://laravel.com/docs/10.x/eloquent",target:"_blank",rel:"noopener noreferrer"}},[a._v("here"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v("We are using the "),e("a",{attrs:{href:"https://packagist.org/packages/konekt/concord",target:"_blank",rel:"noopener noreferrer"}},[a._v("konekt/concord"),e("OutboundLink")],1),a._v(" package, which is an extension of Laravel. It helps in building modular Laravel applications.")]),a._v(" "),e("h2",{attrs:{id:"using-krayin-package-generator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-krayin-package-generator"}},[a._v("#")]),a._v(" Using Krayin Package Generator")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("This command creates a new "),e("strong",[e("code",[a._v("Category")])]),a._v(" Model inside your package.")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("php artisan package:make-model Category Webkul/Category\n")])])])]),a._v(" "),e("li",[e("p",[a._v("This command creates the following files:")]),a._v(" "),e("ul",[e("li",[a._v("New model "),e("strong",[e("code",[a._v("Category.php")])]),a._v(" in the "),e("strong",[e("code",[a._v("packages/Webkul/Category/src/Models")])]),a._v(" directory.")]),a._v(" "),e("li",[a._v("New model proxy "),e("strong",[e("code",[a._v("CategoryProxy.php")])]),a._v(" in the "),e("strong",[e("code",[a._v("packages/Webkul/Category/src/Models")])]),a._v(" directory.")]),a._v(" "),e("li",[a._v("New model contract "),e("strong",[e("code",[a._v("Category.php*")])]),a._v(" in the "),e("strong",[e("code",[a._v("packages/Webkul/Category/src/Contracts")])]),a._v(" directory.")])])])]),a._v(" "),e("h2",{attrs:{id:"using-laravel-artisan-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-laravel-artisan-command"}},[a._v("#")]),a._v(" Using Laravel Artisan Command")]),a._v(" "),e("p",[a._v("Before creating the model class, we need to create two things: the "),e("strong",[e("code",[a._v("Contract")])]),a._v(" and the "),e("strong",[e("code",[a._v("Proxy")])]),a._v(".")]),a._v(" "),e("h3",{attrs:{id:"contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract"}},[a._v("#")]),a._v(" Contract")]),a._v(" "),e("p",[a._v("Laravel's Contracts are a set of interfaces that define the core services provided by the framework. For example, the "),e("strong",[e("code",[a._v("Illuminate\\Contracts\\Queue\\Queue")])]),a._v(" contract defines the methods needed for queueing jobs, while the "),e("strong",[e("code",[a._v("Illuminate\\Contracts\\Mail\\Mailer")])]),a._v(" contract defines the methods needed for sending an email.")]),a._v(" "),e("p",[a._v("Each contract has a corresponding implementation provided by the framework. For example, Laravel provides a queue implementation with various drivers and a mailer implementation powered by SwiftMailer.")]),a._v(" "),e("p",[a._v("All Laravel contracts are stored in their own GitHub repository. This provides a quick reference for all available contracts and a single, decoupled package that can be used by package developers.")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Now, create a folder named "),e("strong",[e("code",[a._v("Contracts")])]),a._v(" inside "),e("strong",[e("code",[a._v("Webkul/Category/src/")])]),a._v(" and create an interface file named "),e("strong",[e("code",[a._v("Category.php")])]),a._v(".")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("packages\n└── Webkul\n    └── Category\n        └── src\n            ├── ...\n            └── Contracts\n                └── Category.php\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Copy the following code into the "),e("strong",[e("code",[a._v("Category.php")])]),a._v(" file.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Contracts")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("Category")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])])]),a._v(" "),e("h3",{attrs:{id:"proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#proxy"}},[a._v("#")]),a._v(" Proxy")]),a._v(" "),e("p",[a._v("Proxies, as their name suggests, lead you to the actual model class. The concept of model proxies has been introduced to override the functionality of the existing Model. It is a type of model inheritance without creating a new table in the database.")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Now, create a "),e("strong",[e("code",[a._v("Models")])]),a._v(" folder inside "),e("strong",[e("code",[a._v("packages/Webkul/Category/src/")])]),a._v(". Inside the "),e("strong",[e("code",[a._v("Models")])]),a._v(" folder, create a model proxy file named "),e("strong",[e("code",[a._v("CategoryProxy.php")])]),a._v(". This Proxy class will extend "),e("strong",[e("code",[a._v("Konekt\\Concord\\Proxies\\ModelProxy")])]),a._v(".")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("└── packages\n    └── Webkul\n        └── Category\n            └── src\n                ├── ...\n                ├── Contracts\n                │   └── Category.php\n                └── Models\n                    └── CategoryProxy.php\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Copy the following code into the "),e("strong",[e("code",[a._v("CategoryProxy.php")])]),a._v(" file.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Models")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Konekt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Concord"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Proxies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ModelProxy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("CategoryProxy")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ModelProxy")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])])]),a._v(" "),e("h3",{attrs:{id:"model"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#model"}},[a._v("#")]),a._v(" Model")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("The simple way to create a model is to execute the "),e("code",[a._v("make:model")]),a._v(" artisan command:")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("php artisan make:model Category\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Now, move your "),e("strong",[e("code",[a._v("Category")])]),a._v(" model from the project root directory (i.e., "),e("strong",[e("code",[a._v("App/Models")])]),a._v(") to the "),e("strong",[e("code",[a._v("packages/Webkul/Category/src/Models")])]),a._v(" folder.")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("└── packages\n    └── Webkul\n        └── Category\n            └── src\n                ├── ...\n                ├── Contracts\n                │   └── Category.php\n                └── Models\n                    ├── Category.php\n                    └── CategoryProxy.php\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Copy the following code into the "),e("strong",[e("code",[a._v("Category.php")])]),a._v(" file.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Models")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Eloquent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Model")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Contracts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" CategoryContract"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("Category")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Model")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CategoryContract")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n    * The attributes that are mass assignable.\n    *\n    * @var array\n    */")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("protected")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fillable")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'slug'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'description'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])])])])])]),a._v(" "),e("h3",{attrs:{id:"module-service-provider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-service-provider"}},[a._v("#")]),a._v(" Module Service Provider")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Now, we need to create a provider named "),e("strong",[e("code",[a._v("ModuleServiceProvider.php")])]),a._v(" inside "),e("strong",[e("code",[a._v("Webkul/Category/src/Providers")])]),a._v(".")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("└── packages\n  └── Webkul\n      └── Category\n          └── src\n              ├── ...\n              └── Providers\n                  ├── CategoryServiceProvider.php\n                  └── ModuleServiceProvider.php\n")])])])]),a._v(" "),e("li",[e("p",[a._v("In this file, we register the models used in this package. You can see the code below.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Providers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Konekt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Concord"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("BaseModuleServiceProvider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("ModuleServiceProvider")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BaseModuleServiceProvider")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("protected")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$models")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])]),a._v(" "),e("li",[e("p",[a._v("Finally, register your "),e("strong",[e("code",[a._v("ModuleServiceProvider.php")])]),a._v(" in the "),e("strong",[e("code",[a._v("config/concord.php")])]),a._v(" file.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'modules'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Other service providers")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Webkul"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Category"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Providers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ModuleServiceProvider")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);